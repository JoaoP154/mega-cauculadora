:root{
  --bg:#0f1418; --fg:#e7ecef; --muted:#9aa4aa; --panel:#151b20; --accent:#4cc9f0; --ok:#2ecc71; --warn:#ffb703; --danger:#ef476f;
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:var(--fg);}
.app{max-width:1100px;margin:0 auto;padding:16px;}
.topbar{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
.topbar h1{font-size:1.4rem;margin:0}
.topbar .actions button{margin-left:8px}
.tabs{display:flex;gap:8px;margin-bottom:12px}
.tab{background:var(--panel);color:var(--fg);border:1px solid #222;padding:8px 12px;border-radius:12px;cursor:pointer}
.tab.active{outline:2px solid var(--accent)}
.panel{display:none;background:var(--panel);border:1px solid #1e252b;border-radius:16px;padding:16px}
.panel.active{display:block}
.display-wrap{display:grid;grid-template-columns:1fr;gap:8px;margin-bottom:12px}
.expr,.result{width:100%;padding:12px;border-radius:10px;border:1px solid #2a3239;background:#0b1014;color:var(--fg);font-size:1.1rem}
.result{opacity:.85}
.keypad{display:grid;grid-template-columns:repeat(5,1fr);gap:8px}
.keypad .col{display:grid;grid-auto-rows:48px;gap:8px}
button{background:#1a2127;color:var(--fg);border:1px solid #26303a;border-radius:10px;font-size:1rem;cursor:pointer}
button:hover{border-color:var(--accent)}
button.equals{background:var(--accent);color:#07222b;border-color:transparent;font-weight:700}
button.danger{background:var(--danger);color:#2b0811;border:none}
.side{margin-top:12px;background:#0b1014;border:1px solid #1e252b;border-radius:12px;padding:12px}
.side h3{margin-top:0}
#history{list-style:none;margin:0;padding:0;display:grid;gap:6px;max-height:220px;overflow:auto}
#history li{display:flex;justify-content:space-between;gap:8px;background:#12181d;border:1px solid #1e252b;border-radius:10px;padding:8px}
#history code{color:var(--muted)}
.tool .row{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:8px}
.tool input,.tool select{padding:10px;border-radius:10px;border:1px solid #2a3239;background:#0b1014;color:var(--fg)}
#canvas{width:100%;height:auto;background:#0b1014;border:1px solid #1e252b;border-radius:12px}
.light{--bg:#f6f7fb; --fg:#0c1116; --muted:#56606a; --panel:#ffffff; --accent:#2563eb; --ok:#16a34a; --warn:#d97706; --danger:#dc2626}
.light .result{opacity:1}
